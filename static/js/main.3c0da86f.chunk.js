(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{27:function(n,e,t){n.exports=t.p+"static/media/Spotify_Icon_RGB_White.cc4e2784.png"},46:function(n,e,t){n.exports=t(60)},59:function(n,e,t){},60:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),i=t(26),o=t.n(i),c=t(6),u=t(7),l=t(9),s=t(8),p=t(14),d=t(20),f=t(18),h=function(){return r.a.createElement("div",{style:{color:"white"}},"Loading.....")},m=t(25),b=t.n(m),v=t(30),g=t(21),y=t(3),w=function(n,e){var t=e;if(!n)return 0;if(t>=n.length)return-1;for(;!n[t].track.preview_url;)if((t+=1)>=n.length)return-1;return t},x=function(n,e){return fetch(n,{headers:new Headers({Authorization:"Bearer "+e.access_token})}).then((function(n){return n.json()}))},E=function(){return function(n){return fetch("https://ndj7ih3fo8.execute-api.eu-central-1.amazonaws.com/LATEST/").then((function(n){return n.json()})).then((function(e){return n(function(n){return{token:n,type:"TOKEN_SET"}}(e))})).catch((function(n){return console.log("Error fetching Token",n)}))}},k=function(n,e){return n.map((function(n,t){return{track:Object(y.a)(Object(y.a)({},n),{},{album:{images:Object(g.a)(e)}})}}))},O=function(n){var e=n.href;return function(){var n=Object(v.a)(b.a.mark((function n(t,a){var r,i,o,c,u,l;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a(),i=r.playlist,o=r.tracklist,c=r.token,t({type:"STOP_PLAY"}),e===i.href){n.next=10;break}return n.next=5,x(e,c);case 5:if(!(u=n.sent).error){n.next=8;break}throw u.error.message;case 8:i={description:u.description,href:e,imageUrl:u.images[0].url,name:u.name,owner:u.owner.display_name,type:u.type},o=u.tracks.items;case 10:l=w(o,0),t({playlist:i,trackId:l,tracks:o,type:"PLAYLIST_SET"});case 12:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},P=function(n,e){var t=e;if(t<=0)return-1;for(t-=1;!n[t].track.preview_url;)if((t-=1)<0)return-1;return t},j=t(1),T=t(2),_="rgb(160, 160, 160)";function A(){var n=Object(j.a)(["\n  background-color: ",";\n  border-radius: 50%;\n  bottom: 16px;\n  cursor: default;\n  filter: brightness(1);\n  height: 40px;\n  position: absolute;\n  right: 20px;\n  transition: transform 0.1s ease;\n  width: 40px;\n\n  &:hover {\n    border-width: 2px;\n    transform: scale(1.1);\n  }\n\n  &:active {\n    border-width: 1px;\n    transform: scale(1);\n  }\n"]);return A=function(){return n},n}function S(){var n=Object(j.a)(["\n  border: 15px solid transparent;\n  border-left-color: #fff;\n  height: 0;\n  left: calc(50%);\n  transform: scaleX(1.5);\n  width: 0;\n"]);return S=function(){return n},n}function L(){var n=Object(j.a)(["\n  border-left: 5px solid #fff;\n  border-right: 5px solid #fff;\n  height: 32px;\n  left: calc(50% - 9px);\n  width: 18px;\n"]);return L=function(){return n},n}function I(){var n=Object(j.a)(["\n  pointer-events: none;\n  position: absolute;\n  top: calc(50% - 16px);\n"]);return I=function(){return n},n}var C=T.b.div(I()),M=Object(T.b)(C)(L()),U=Object(T.b)(C)(S()),W=T.b.div(A(),"#1DB954"),N=function(n){var e=n.dataName,t=n.showPlay;return r.a.createElement(W,{"data-name":e},t?r.a.createElement(U,null):r.a.createElement(M,null))};N.defaultProps={dataName:"play",showPlay:!0};var R=N;function Y(){var n=Object(j.a)(["\n  padding: 0 8px;\n  max-width: 320px;\n  width: 100%;\n"]);return Y=function(){return n},n}function B(){var n=Object(j.a)(["\n  color: #fff;\n  display: block;\n  font-size: ",";\n  font-weight: ",";\n  height: ",";\n  margin: 12px 0 4px;\n  text-align: center;\n"]);return B=function(){return n},n}function V(){var n=Object(j.a)(["\n  box-shadow: ",";\n  transform: scale(",");\n  transition: transform 0.1s ease;\n"]);return V=function(){return n},n}function z(){var n=Object(j.a)(["\n      filter: brightness(0.3);\n    "]);return z=function(){return n},n}function D(){var n=Object(j.a)(["\n  backface-visibility: hidden;\n  background-image: url('","');\n  background-size: cover;\n  filter: brightness(1);\n  height: 0;\n  padding-bottom: 100%;\n  transition: all 1s ease;\n  transition: filter 0.3s cubic-bezier(0.3, 0, 0, 1);\n  width: 100%;\n\n  ",";\n"]);return D=function(){return n},n}function H(){var n=Object(j.a)(["\n  cursor: pointer;\n  margin-bottom: 35px;\n  position: relative;\n"]);return H=function(){return n},n}var G=T.b.div(H()),K=T.b.div(D(),(function(n){return n.icon}),(function(n){return n.hover&&Object(T.a)(z())})),F=T.b.div(V(),(function(n){return n.shrink?"0 0 0":"0 0 10px rgba(0, 0, 0, 0.3)"}),(function(n){return n.shrink?.95:1})),X=T.b.p(B(),(function(n){return n.bigTitle?"26px":"14px"}),(function(n){return n.bigTitle?600:400}),(function(n){return n.bigTitle?"36px":"20px"})),J=T.b.div(Y()),q=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).state={hover:n.props.showPlayBtn,showPlay:!0,showPlayBtn:n.props.showPlayBtn,shrink:!1},n.handleMouseOver=function(){n.setState((function(){return{hover:!0}}))},n.handleMouseLeave=function(){n.setState((function(n){return{hover:n.showPlayBtn}}))},n.handleMouseDown=function(){n.setState((function(){return{shrink:!0}}))},n.handleMouseUp=function(){n.setState((function(){return{shrink:!1}}))},n.handleClick=function(e){var t=n.props,a=t.href,r=t.handleClick,i=!1;"play"===e.target.dataset.name&&(i=!0),r(a,i)},n}return Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(n){this.state.showPlayBtn!==n.showPlayBtn&&this.setState((function(e){return{hover:n.showPlayBtn,showPlayBtn:n.showPlayBtn}}))}},{key:"render",value:function(){var n=this.state,e=n.showPlayBtn,t=n.shrink,a=n.hover,i=this.props,o=i.bigTitle,c=i.icon,u=i.name,l=i.playBtn;return r.a.createElement(J,null,r.a.createElement(G,{onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},r.a.createElement(F,{shrink:t,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},r.a.createElement(K,{hover:a,icon:c}),l&&(a||e)&&r.a.createElement(R,{dataName:"play",showPlay:!e})),r.a.createElement(X,{bigTitle:o},u)))}}]),t}(r.a.Component);q.defaultProps={bigTitle:!1,playBtn:!0};var Q=q;function Z(){var n=Object(j.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  justify-content: center;\n  margin: auto;\n  max-width: 1480px;\n  padding: 0 28px;\n"]);return Z=function(){return n},n}function $(){var n=Object(j.a)(["\n  color: #fff;\n  font-size: 36px;\n  font-weight: 600;\n  letter-spacing: -0.18px;\n  line-height: 44px;\n  margin: 0 0 24px;\n  padding-top: 24px;\n  text-align: center;\n"]);return $=function(){return n},n}var nn=T.b.h1($()),en=T.b.div(Z(),(function(n){return n.template})),tn=function(n){switch(!0){case n<=547:return"repeat(2, 1fr)";case n>=548&&n<=771:return"repeat(3, 1fr)";case n>=772&&n<=979:return"repeat(4, 1fr)";default:return"repeat(6, 1fr)"}},an="https://api.spotify.com/v1",rn=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).handleClick=function(e,t){var a=n.props,r=a.activePlaylistHref,i=a.history,o=a.isPaused,c=a.isPlaying,u=a.setPause,l=a.unpause;return t?c&&e===r?o?l():u():n.props.config.initPlay(e):i?i.push("/".concat(e.replace(an+"/",""))):void 0},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var n=this.props.match.params.id;if(!this.props.selection)return this.props.config.onMount(n)}},{key:"componentWillUnmount",value:function(){var n=this.props.config.onUnmount;n&&n()}},{key:"render",value:function(){var n=this,e=this.props,t=e.selection,a=e.activePlaylistHref,i=e.isPaused,o=e.isPlaying,c=e.message,u=e.windowWidth;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(nn,null,c),r.a.createElement(en,{template:tn(u)},t.map((function(e){return e.images.length?r.a.createElement(Q,{key:e.id,handleClick:n.handleClick,href:e.href,icon:e.images[0].url,id:e.id,name:e.name,showPlayBtn:a===e.href&&o&&!i}):null})))):r.a.createElement(h,null)}}]),t}(a.Component),on=Object(p.b)((function(n,e){return{activePlaylistHref:n.playlist.href,isPaused:n.isPaused,isPlaying:n.isPlaying,message:n.sectionMessage||e.config.sectionMessage,selection:n[e.config.selection]}}),(function(n){return{setPause:function(){n({type:"SET_PAUSE"})},unpause:function(){n({type:"UNPAUSE"})}}}))(rn);function cn(){var n=Object(j.a)(["\n  background-color: #2ebd59;\n  border: none;\n  border-radius: 500px;\n  color: #fff;\n  cursor: pointer;\n  font-size: 14px;\n  height: 43px;\n  margin-top: 16px;\n  outline: none;\n  padding: 13px 44px;\n  width: 130px;\n"]);return cn=function(){return n},n}var un=T.b.button(cn()),ln=function(n){var e=n.isPlaying,t=n.onClick;return r.a.createElement("div",null,r.a.createElement(un,{onClick:t},e?"PAUSE":"PLAY"))},sn=t(13),pn=t(17);function dn(){var n=Object(j.a)(["\n  font-size: 20px;\n  padding-right: 16px;\n  width: 48px;\n"]);return dn=function(){return n},n}var fn=T.b.div(dn()),hn=r.a.createElement(sn.a,{icon:pn.b}),mn=r.a.createElement(sn.a,{icon:pn.a}),bn=r.a.createElement(sn.a,{icon:pn.f}),vn=function(n){var e=n.handlePause,t=n.handlePlay,a=n.hasPreview,i=n.isActive,o=n.isHovered,c=n.isPlaying,u=n.nr,l=n.unpause,s="default",p=a&&(o||c),d=null;return a&&(s="pointer",o&&c?d=mn:o&&!c?d=hn:c&&(d=bn)),r.a.createElement(fn,{style:{cursor:s},onClick:i?c?e:l:t},p?d:++u+".")};function gn(){var n=Object(j.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  font-size: 14px;\n  font-weight: 200;\n  height: 70px;\n  max-width: 1480px;\n  padding: 0 28px;\n  transition: all 0.2s;\n\n  &:hover {\n    background-color: rgba(0, 0, 0, 0.2);\n  }\n"]);return gn=function(){return n},n}function yn(){var n=Object(j.a)(["\n  font-size: 16px;\n  font-weight: 200;\n"]);return yn=function(){return n},n}function wn(){var n=Object(j.a)(["\n  flex: 1;\n"]);return wn=function(){return n},n}function xn(){var n=Object(j.a)(["\n  color: ",";\n  font-weight: 200;\n"]);return xn=function(){return n},n}var En=T.b.div(xn(),_),kn=T.b.div(wn()),On=T.b.div(yn()),Pn=T.b.div(gn(),(function(n){return n.active?"#1ED660":n.hasPreview?"rgba(255, 255, 255, 0.9)":"rgba(255, 255, 255, 0.3)"})),jn=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).state={showPlayButton:!1},n.handleMouseEnter=function(){n.setState((function(){return{cursor:n.props.track.preview_url?"pointer":"default",showPlayButton:n.props.track.preview_url}}))},n.handleMouseLeave=function(){n.setState((function(){return{cursor:"default",showPlayButton:!1}}))},n}return Object(u.a)(t,[{key:"render",value:function(){var n=this.props,e=n.artists,t=n.isActiveTrack,a=n.track,i=n.nr,o=n.playTrack,c=n.pauseTrack,u=n.isPlaying,l=this.state.showPlayButton;return r.a.createElement(Pn,{active:t,title:a.preview_url?"":"No preview available",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,hasPreview:a.preview_url},r.a.createElement(vn,{isHovered:!!l,isPlaying:t&&u,hasPreview:a.preview_url,nr:i,handlePlay:function(){return a.preview_url&&o()},handlePause:function(){return c()},unpause:this.props.unpause,isActive:t}),r.a.createElement(kn,null,r.a.createElement(On,null,a.name),r.a.createElement(En,null,e&&e.map((function(n){return n.name})).join(", "),a.album&&a.album.name&&" \u2022 ".concat(a.album.name))),r.a.createElement("div",null,function(n){var e=Math.floor(n/1e3),t=Math.floor(e/60);return e=(e="".concat(e%60)).length<2?0+e:e,"".concat(t,":").concat(e)}(a.duration_ms)))}}]),t}(a.Component);function Tn(){var n=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  color: white;\n  margin: auto;\n  max-width: 1480px;\n  padding: 35px 28px 0;\n\n  @media (min-width: 1200px) and (min-width: 1499px) {\n  }\n\n  @media (max-width: 1199px) {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n    min-width: 515px;\n    width: 100%;\n  }\n"]);return Tn=function(){return n},n}function _n(){var n=Object(j.a)(["\n  flex: 2;\n\n  @media (max-width: 1199px) {\n  }\n\n  @media (min-width: 1200px) and (max-width: 1499px) {\n    flex: 3;\n  }\n"]);return _n=function(){return n},n}function An(){var n=Object(j.a)(["\n  color: rgba(255, 255, 255, 0.6);\n  font-size: 14px;\n  font-weight: 200;\n  line-height: 28px;\n  margin: 12px;\n  pointer-events: none;\n\n  & > a {\n    color: currentColor;\n  }\n"]);return An=function(){return n},n}function Sn(){var n=Object(j.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  position: relative;\n"]);return Sn=function(){return n},n}function Ln(){var n=Object(j.a)(["\n  align-items: center;\n  justify-content: flex-start;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  padding: 0 8px;\n  position: relative;\n  text-align: center;\n  top: 40px;\n\n  @media (max-width: 1199px) {\n    top: 0;\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    align-items: stretch;\n    max-width: 100%;\n    width: 100%;\n    max-height: 255px;\n  }\n\n  @media (min-width: 1200px) and (min-width: 1499px) {\n  }\n"]);return Ln=function(){return n},n}var In=T.b.div(Ln()),Cn=T.b.div(Sn()),Mn=T.b.div(An()),Un=T.b.div(_n()),Wn=T.b.div(Tn()),Nn=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).handleButton=function(){var e=n.props,t=e.isPaused,a=e.isPlaying,r=e.isActivePlaylist,i=e.setPause,o=e.unpause,c=e.startPlay;return r&&a&&!t?i():r&&a&&t?o():r?void 0:c()},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlaylistView(this.props.currentPlaylistHref)}},{key:"componentWillUnmount",value:function(){this.props.clearPlaylistView()}},{key:"render",value:function(){var n=this,e=this.props,t=e.activePlaylistHref,a=e.activeTrackId,i=e.currentPlaylistHref,o=e.isPaused,c=e.isPlaying,u=e.playlist,l=e.setPause,s=e.startPlay,p=e.tracklist,d=e.isActivePlaylist;return p?r.a.createElement(Wn,null,r.a.createElement(In,null,r.a.createElement(Q,{handleClick:this.handleButton,icon:u.imageUrl,id:i,href:i,name:u.name,showPlayBtn:t===i&&c&&!o,bigTitle:!0}),r.a.createElement(Cn,null,r.a.createElement(Mn,{dangerouslySetInnerHTML:{__html:u.description}}),r.a.createElement(Mn,null,p.length," song",p.length>1?"s":""),r.a.createElement(ln,{isPlaying:d&&c&&!o,onClick:this.handleButton}))),r.a.createElement(Un,null,p.map((function(e,t){var i=e.track;return r.a.createElement(jn,{key:i.id,artists:i.artists,nr:+t,track:i,playlistId:u.id,isPlaying:c&&!o,isActiveTrack:d&&+t===a,playTrack:function(){return s(+t)},pauseTrack:function(){return l()},unpause:n.props.unpause,activeTrackId:d?a:null})})))):r.a.createElement(h,null)}}]),t}(a.Component),Rn=Object(p.b)((function(n,e){return{activePlaylistHref:n.playlist.href,activeTrackId:n.activeTrackId,currentPlaylistHref:an+e.history.location.pathname,isActivePlaylist:n.playlist.href===an+e.history.location.pathname,isPaused:n.isPaused,isPlaying:n.isPlaying,playlist:n.playlistView,tracklist:n.tracklistView}}),(function(n,e){return{clearPlaylistView:function(){n((function(n,e){n({type:"CLEAR_PLAYLIST_VIEW"})}))},fetchPlaylistView:function(e){n(function(n){return function(e,t){var a=t(),r=a.token,i=a.playlist;n===i.href?e({type:"COPY_TO_VIEW"}):x(n,r).then((function(t){var a="album"===t.type?k(t.tracks.items,t.images):t.tracks.items;e({playlist:{description:t.description,href:n,imageUrl:t.images[0].url,name:t.name,owner:t.owner&&t.owner.display_name,type:t.type},tracks:a,type:"SET_PLAYLIST_VIEW"})}))}}(e))},setPause:function(){n({type:"SET_PAUSE"})},startPlay:function(e){n(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e,t){var a=t().tracklistView,r=w(a,n);e({type:"STOP_PLAY"}),setTimeout((function(){e({trackId:r,type:"COPY_FROM_VIEW_AND_PLAY"})}),0)}}(e))},unpause:function(){n({type:"UNPAUSE"})}}}))(Nn);function Yn(){var n=Object(j.a)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  justify-content: space-between;\n\n  &."," {\n    color: ",";\n  }\n\n  & .fa-search {\n    font-size: 1.25rem;\n  }\n"]);return Yn=function(){return n},n}function Bn(){var n=Object(j.a)(["\n  background-color: rgba(0, 0, 0, 0.5);\n  color: ",";\n  font-size: 16px;\n  font-weight: bold;\n  height: 100vh;\n  padding: 24px 24px 95px 24px;\n  position: fixed;\n  width: 100%;\n  max-width: ",";\n  min-width: ",";\n\n  & img {\n    width: 32px;\n  }\n\n  & hr {\n    color: ",";\n  }\n"]);return Bn=function(){return n},n}function Vn(){var n=Object(j.a)(["\n  border: none;\n  padding-bottom: 10px;\n"]);return Vn=function(){return n},n}function zn(){var n=Object(j.a)(["\n  border: none;\n  border-top: 1px solid rgba(255, 255, 255, 0.25);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0.24px;\n  line-height: 26px;\n  padding: 13px 0 8px 0;\n"]);return zn=function(){return n},n}var Dn=T.b.div(zn()),Hn=T.b.div(Vn()),Gn=T.b.nav(Bn(),_,"220px","220px",_),Kn=Object(T.b)(d.b).attrs({activeClassName:"selected"})(Yn(),_,"selected","#1DB954"),Fn=t(27),Xn=t.n(Fn),Jn=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){return Object(c.a)(this,t),e.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(Gn,null,r.a.createElement(Hn,null,r.a.createElement("img",{src:Xn.a,alt:"spotify logo"})),r.a.createElement(Dn,null,r.a.createElement(Kn,{to:"/search",style:{pointerEvents:"none"}},"Search",r.a.createElement(sn.a,{icon:pn.c}))),r.a.createElement(Dn,null,r.a.createElement(Kn,{to:"/browse"},"Home")))}}]),t}(a.Component),qn=t(22),Qn=t(43),Zn={activeTrackId:-1,categoryPlaylist:null,featured:null,genres:[],isPaused:!1,isPlaying:!1,newReleases:null,playlist:{},playlistView:{},sectionMessage:null,token:null,tracklist:null,tracklistView:null},$n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"PLAY_NEXT_TRACK":return Object(y.a)(Object(y.a)({},n),{},{activeTrackId:e.activeTrackId,isPaused:!1,isPlaying:!0});case"STOP_TRACK":return Object(y.a)(Object(y.a)({},n),{},{isPaused:!1,isPlaying:!1});case"TOKEN_SET":return Object(y.a)(Object(y.a)({},n),{},{token:e.token});case"FEATURED_SET":return Object(y.a)(Object(y.a)({},n),{},{featured:e.featured,sectionMessage:e.sectionMessage,tracklist:e.tracklist});case"GENRES_SET":return Object(y.a)(Object(y.a)({},n),{},{genres:e.genres});case"NEW_RELEASES_SET":return Object(y.a)(Object(y.a)({},n),{},{newReleases:e.albums,sectionMessage:null});case"CATEGORY_PLAYLIST_SET":return Object(y.a)(Object(y.a)({},n),{},{categoryPlaylist:e.categoryPlaylist});case"CATEGORY_PLAYLIST_CLEAR":return Object(y.a)(Object(y.a)({},n),{},{categoryPlaylist:null});case"ALBUM_UPDATE":return Object(y.a)(Object(y.a)({},n),{},{activeTrackId:e.activeTrackId,isPaused:!1,isPlaying:!0,playlist:Object(y.a)(Object(y.a)({},n.playlist),e.playlist),tracklist:e.tracks});case"PLAYLIST_SET":return Object(y.a)(Object(y.a)({},n),{},{activeTrackId:e.trackId,isPaused:!1,isPlaying:!0,playlist:Object(y.a)(Object(y.a)({},n.playlist),e.playlist),tracklist:Object(g.a)(e.tracks)});case"PLAY_TRACK":return Object(y.a)(Object(y.a)({},n),{},{activeTrackId:e.trackId,isPaused:!1,isPlaying:!0});case"SET_PAUSE":return Object(y.a)(Object(y.a)({},n),{},{isPaused:!0,isPlaying:!0});case"COPY_TO_VIEW":return Object(y.a)(Object(y.a)({},n),{},{playlistView:Object(y.a)({},n.playlist),tracklistView:Object(g.a)(n.tracklist)});case"COPY_FROM_VIEW_AND_PLAY":return Object(y.a)(Object(y.a)({},n),{},{activeTrackId:e.trackId,isPaused:!1,isPlaying:!0,playlist:Object(y.a)({},n.playlistView),tracklist:Object(g.a)(n.tracklistView)});case"CLEAR_PLAYLIST_VIEW":return Object(y.a)(Object(y.a)({},n),{},{playlistView:{},tracklistView:null});case"UNPAUSE":return Object(y.a)(Object(y.a)({},n),{},{isPaused:!1,isPlaying:!0});case"SET_PLAYLIST_VIEW":return Object(y.a)(Object(y.a)({},n),{},{playlistView:Object(y.a)({},e.playlist),tracklistView:Object(g.a)(e.tracks)});case"STOP_PLAY":return Object(y.a)(Object(y.a)({},n),{},{activeTrackId:-1,isPaused:!1,isPlaying:!1,playlist:{},tracklist:null});default:return n}},ne=Object(qn.d)($n,Object(qn.c)(Object(qn.a)(Qn.a),window.devToolsExtension?window.devToolsExtension():function(n){return n})),ee={albums:{initPlay:function(n){return ne.dispatch(function(n){var e=n.href;return function(){var n=Object(v.a)(b.a.mark((function n(t,a){var r,i,o,c,u,l,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=a(),i=r.playlist,o=r.token,c=r.tracklist,u=c,e===i.href){n.next=14;break}return n.prev=3,n.next=6,x(e,o);case 6:l=n.sent,i={artists:l.artists,date:l.release_date,href:e,imageUrl:l.images[0].url,name:l.name},u=k(l.tracks.items,l.images),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(3),console.error("Error fetching Album:",n.t0);case 14:s=w(u,0),t({type:"STOP_PLAY"}),t({activeTrackId:s,playlist:i,tracks:u,type:"ALBUM_UPDATE"});case 17:case"end":return n.stop()}}),n,null,[[3,11]])})));return function(e,t){return n.apply(this,arguments)}}()}({href:n}))},onMount:function(){return ne.dispatch((function(n,e){var t=e().token;x("https://api.spotify.com/v1/browse/new-releases?limit=50",t).then((function(e){return n({albums:e.albums.items,type:"NEW_RELEASES_SET"})}))}))},sectionMessage:"New Albums and Singles",selection:"newReleases"},category:{initPlay:function(n){return ne.dispatch(O({href:n}))},onMount:function(n){return ne.dispatch((e=n,function(n,t){var a=t().token,r="https://api.spotify.com/v1/browse/categories/".concat(e,"/playlists?limit=50");x(r,a).then((function(e){if(e.error)throw e.error.message;n({categoryPlaylist:e.playlists.items,type:"CATEGORY_PLAYLIST_SET"})})).catch((function(n){return console.error(n)}))}));var e},onUnmount:function(){return ne.dispatch({type:"CATEGORY_PLAYLIST_CLEAR"})},sectionMessage:"Popular Playlists",selection:"categoryPlaylist"},featured:{initPlay:function(n){return ne.dispatch(O({href:n}))},onMount:function(){return ne.dispatch((function(n,e){var t=e().token;return x("https://api.spotify.com/v1/browse/featured-playlists",t).then((function(e){if(e.error)throw e.error.message;n({featured:e.playlists.items,sectionMessage:e.message,type:"FEATURED_SET"})})).catch((function(n){return console.log("Error fetching Featured",n)}))}))},selection:"featured"}},te=function(n){var e=n.split("/");return e[e.length-1]};function ae(){var n=Object(j.a)(["\n  display: grid;\n  grid-template-columns: ",";\n  justify-content: center;\n  padding: 0 28px;\n"]);return ae=function(){return n},n}function re(){var n=Object(j.a)(["\n  color: #fff;\n  font-size: 36px;\n  font-weight: 600;\n  letter-spacing: -0.18px;\n  line-height: 44px;\n  margin: 24px 0;\n  text-align: center;\n"]);return re=function(){return n},n}var ie=T.b.h1(re()),oe=T.b.div(ae(),(function(n){return n.template})),ce=function(n){switch(!0){case n<=547:return"repeat(2, minmax(16px, 218px))";case n>=548&&n<=771:return"repeat(3, minmax(146px, 230px))";case n>=772&&n<=979:return"repeat(4, minmax(166px, 217px))";default:return"repeat(6, minmax(145px, 230px))"}},ue=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).navigate=function(e){n.props.history.push("/view/".concat(te(e)))},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGenres()}},{key:"render",value:function(){var n=this,e=this.props.genres;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null,"Genres & Moods"),r.a.createElement(oe,{template:ce(this.props.windowWidth)},e.map((function(e){return r.a.createElement(Q,Object.assign({key:e.id,icon:e.icons[0].url,handleClick:n.navigate,playBtn:!1},e))}))))}}]),t}(r.a.Component),le=Object(p.b)((function(n){return{genres:n.genres}}),(function(n,e){return{fetchGenres:function(){n((function(n,e){var t=e().token;x("https://api.spotify.com/v1/browse/categories?limit=50",t).then((function(e){if(e.error)throw e.error.message;n({genres:e.categories.items,type:"GENRES_SET"})})).catch((function(n){return console.error(n)}))}))}}}))(ue);function se(){var n=Object(j.a)(["\n  color: ",";\n  margin: 10px;\n  padding: 10px;\n  padding-bottom: 0;\n  transition-duration: 0.2s;\n  transition-property: color;\n\n  &."," {\n    color: white;\n    position: relative;\n\n    &::after {\n      content: '';\n      position: absolute;\n      left: 35%;\n      bottom: -5px;\n      height: 1px;\n      width: 20px;\n      padding-bottom: 5px;\n      border-bottom: 2px solid ",";\n    }\n  }\n"]);return se=function(){return n},n}function pe(){var n=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  height: 86px;\n  justify-content: center;\n  min-width: 515px;\n  padding: 20px 0;\n"]);return pe=function(){return n},n}function de(){var n=Object(j.a)(["\n  font-weight: bold;\n  list-style: none;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  width: 100%;\n  align-items: center;\n\n  & li {\n    margin: 10px;\n    margin-top: 0;\n    padding: 10px;\n    padding-top: 0;\n  }\n"]);return de=function(){return n},n}function fe(){var n=Object(j.a)(["\n  font-size: 12.8px;\n  font-weight: bold;\n  letter-spacing: 1px;\n  margin: auto;\n  padding: 0 28px;\n  width: 100%;\n"]);return fe=function(){return n},n}var he=T.b.div(fe()),me=T.b.ul(de()),be=T.b.nav(pe()),ve=Object(T.b)(d.b).attrs({activeClassName:"selected"})(se(),_,"selected","#1DB954"),ge=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){return Object(c.a)(this,t),e.apply(this,arguments)}return Object(u.a)(t,[{key:"render",value:function(){var n=this;return r.a.createElement(he,null,r.a.createElement(be,null,r.a.createElement(me,null,r.a.createElement(ve,{to:"/browse/featured"},"FEATURED"),r.a.createElement(ve,{to:"/browse/genres"},"GENRES & MOODS"),r.a.createElement(ve,{to:"/browse/newreleases"},"NEW RELEASES"))),r.a.createElement(f.b,{path:"/browse/featured",render:function(e){return r.a.createElement(on,Object.assign({windowWidth:n.props.windowWidth},e,{config:ee.featured}))}}),r.a.createElement(f.b,{path:"/browse/genres",render:function(e){return r.a.createElement(le,Object.assign({windowWidth:n.props.windowWidth},e))}}),r.a.createElement(f.b,{path:"/browse/newreleases",render:function(e){return r.a.createElement(on,Object.assign({windowWidth:n.props.windowWidth},e,{config:ee.albums}))}}))}}]),t}(a.Component);function ye(){var n=Object(j.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 64px;\n  justify-content: flex-start;\n  max-width: 450px;\n  width: 30%;\n"]);return ye=function(){return n},n}function we(){var n=Object(j.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return we=function(){return n},n}function xe(){var n=Object(j.a)(["\n  display: flex;\n  font-size: 14px;\n  max-width: 100%;\n"]);return xe=function(){return n},n}function Ee(){var n=Object(j.a)(["\n  align-items: flex-start;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  line-height: 20px;\n  width: calc(100% - 76px);\n"]);return Ee=function(){return n},n}function ke(){var n=Object(j.a)(["\n  margin-right: 13px;\n  width: 64px;\n"]);return ke=function(){return n},n}function Oe(){var n=Object(j.a)(["\n  width: 100%;\n"]);return Oe=function(){return n},n}function Pe(){var n=Object(j.a)(["\n  color: #a0a0a0;\n  font-size: 11px;\n"]);return Pe=function(){return n},n}var je=T.b.div(Pe()),Te=T.b.img(Oe()),_e=T.b.div(ke()),Ae=T.b.div(Ee()),Se=T.b.div(xe()),Le=T.b.div(we()),Ie=T.b.div(ye()),Ce=function(n){var e=n.artist,t=n.title,a=n.src;return r.a.createElement(Ie,null,r.a.createElement(_e,null,r.a.createElement(Te,{src:a,alt:"".concat(e," - ").concat(t)})),r.a.createElement(Ae,null,r.a.createElement(Se,null,r.a.createElement(Le,null,t)),r.a.createElement(je,null,e)))},Me=t(36);function Ue(){var n=Object(j.a)(["\n  background-color: transparent;\n  border: none;\n  color: #fff;\n  cursor: pointer;\n  font-size: 1.2rem;\n  height: 32px;\n  padding: 0;\n  width: 32px;\n\n  &:hover {\n    color: #fff;\n  }\n\n  &:disabled:hover {\n    color: #a0a0a0;\n  }\n"]);return Ue=function(){return n},n}function We(){var n=Object(j.a)(["\n  background-color: transparent;\n  border: none;\n  // color: #fff;\n  cursor: pointer;\n  font-size: 2.1rem;\n  height: 32px;\n  margin-top: -0.5rem;\n  padding: 0;\n  width: 32px;\n  transition: all 0.1s;\n\n  &:hover {\n    color: #fff;\n    transform: scale(1.2);\n  }\n"]);return We=function(){return n},n}function Ne(){var n=Object(j.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  height: 32px;\n  justify-content: space-between;\n  align-items: center;\n  width: 224px;\n\n  & > button {\n    color: #a0a0a0;\n    outline: none;\n  }\n"]);return Ne=function(){return n},n}function Re(){var n=Object(j.a)(["\n  flex: 1;\n  height: 56px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Re=function(){return n},n}var Ye=T.b.div(Re()),Be=T.b.div(Ne()),Ve=T.b.button(We()),ze=T.b.button(Ue()),De=r.a.createElement(sn.a,{icon:Me.b}),He=r.a.createElement(sn.a,{icon:Me.a}),Ge=r.a.createElement(sn.a,{icon:pn.d}),Ke=r.a.createElement(sn.a,{icon:pn.e}),Fe=function(n){var e=n.handleNext,t=n.handlePause,a=n.handlePlay,i=n.handlePrev,o=n.hasPrevTrack,c=n.hasNextTrack,u=n.isPlaying;return r.a.createElement(Ye,null,r.a.createElement(Be,null,r.a.createElement(ze,{onClick:i,disabled:!o,"data-testid":"prev-btn"},Ge),u?r.a.createElement(Ve,{onClick:t,"data-testid":"pause-btn"},He):r.a.createElement(Ve,{onClick:a,"data-testid":"play-btn"},De),r.a.createElement(ze,{onClick:e,disabled:!c,"data-testid":"next-btn"},Ke)))};function Xe(){var n=Object(j.a)(["\n  width: 180px;\n\n  & input[type='range'] {\n    -webkit-appearance: none;\n  }\n\n  & input[type='range']::-webkit-slider-runnable-track {\n    background: #a0a0a0;\n    border: none;\n    border-radius: 3px;\n    cursor: pointer;\n    height: 4px;\n  }\n\n  & input[type='range']::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    background: #fff;\n    border: none;\n    border-radius: 50%;\n    height: 12px;\n    margin-top: -4px;\n    outline: none;\n    width: 12px;\n  }\n\n  input[type='range']:focus {\n    outline: none;\n  }\n\n  input[type='range']:focus::-webkit-slider-runnable-track {\n    background: #a0a0a0;\n  }\n"]);return Xe=function(){return n},n}var Je=T.b.div(Xe()),qe=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).updateVolume=function(e){n.props.handleChange(e.target.value)},n}return Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(Je,null,r.a.createElement("input",{onInput:this.updateVolume,type:"range",min:"0.0",max:"1.0",step:"0.01",defaultValue:"0.3"}))}}]),t}(r.a.Component);function Qe(){var n=Object(j.a)(["\n  background-color: rgb(40, 40, 40);\n  color: white;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  height: 90px;\n  padding: 0 16px;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  width: 100vw;\n"]);return Qe=function(){return n},n}var Ze=T.b.footer(Qe()),$e=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).audioEl=new Audio,n.state={currentTime:0,hasNextTrack:!1,hasPrevTrack:!1,paused:!1,playing:!1,totalTime:0},n.handleDataLoaded=function(){n.state.totalTime!==n.audioEl.duration&&n.setState((function(){return{totalTime:n.audioEl.duration}}))},n.handleTimeUpdate=function(){var e=n.audioEl.currentTime;e!==n.state.currentTime&&n.setState((function(){return{currentTime:e}}))},n.playTrack=function(){var e=n.props,t=e.playlist,a=e.songInd,r=n.state.currentTime;if(-1===a)return n.pauseTrack();var i=-1!==w(t,a+1),o=-1!==P(t,a);n.setState((function(){return{hasNextTrack:i,hasPrevTrack:o}})),n.audioEl.src=t[a].track.preview_url||"",n.audioEl.volume=.3,n.audioEl.currentTime=r,n.audioEl.play().catch((function(n){return n}))},n.stopTrack=function(){n.audioEl.pause(),n.audioEl.currentTime=0},n.pauseTrack=function(){n.audioEl.pause(),n.props.pause()},n.handleEnded=function(){if(!n.state.hasNextTrack)return n.props.stop();var e=n.props,t=e.playlist,a=e.songInd;(0,e.playNextTrack)(t,a)},n.handlePlay=function(){n.props.playlist&&n.props.unpause()},n.handlePause=function(){var e=n.props,t=e.isPaused,a=e.pause,r=e.unpause;t?r():a()},n.handlePrev=function(){var e=n.props,t=e.playlist,a=e.songInd,r=e.playPrevTrack;n.state.hasPrevTrack&&r(t,a)},n.handleVolumeChange=function(e){n.audioEl.volume=e},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.audioEl.addEventListener("ended",this.handleEnded),this.audioEl.addEventListener("timeupdate",this.handleTimeUpdate),this.audioEl.addEventListener("loadeddata",this.handleDataLoaded)}},{key:"componentWillUnmount",value:function(){this.audioEl.removeEventListener("ended",this.handleEnded),this.audioEl.removeEventListener("timeupdate",this.handleTimeUpdate),this.audioEl.removeEventListener("loadeddata",this.handleDataLoaded)}},{key:"componentWillReceiveProps",value:function(n){var e=n.isPlaying,t=n.isPaused,a=this.state,r=a.playing,i=a.paused;e===r&&t===i||this.setState((function(n){var a=n.currentTime;return{currentTime:e||t?a:0,paused:t,playing:e}}))}},{key:"componentDidUpdate",value:function(){var n=this.state,e=n.paused,t=n.playing;return t&&!e&&this.audioEl.paused?this.playTrack():t&&e?this.pauseTrack():void(t||e||this.stopTrack())}},{key:"render",value:function(){var n=this.props,e=n.isPlaying,t=n.isPaused,a=n.playlist,i=n.songInd,o=this.state,c=o.hasNextTrack,u=o.hasPrevTrack,l=a&&-1!==i?a[i].track:null;return r.a.createElement(Ze,null,r.a.createElement(Ce,{artist:l?l.artists[0].name:"",title:l?l.name:"",src:l?l.album.images[0].url:Xn.a}),r.a.createElement(Fe,{isPlaying:!t&&e,hasNextTrack:c,hasPrevTrack:u,handlePlay:this.handlePlay,handlePause:this.handlePause,handleNext:this.handleEnded,handlePrev:this.handlePrev}),r.a.createElement(qe,{handleChange:this.handleVolumeChange}))}}]),t}(a.Component),nt=Object(p.b)((function(n){return{isPaused:n.isPaused,isPlaying:n.isPlaying,playlist:n.tracklist,songInd:n.activeTrackId}}),(function(n){return{pause:function(){n({type:"SET_PAUSE"})},playNextTrack:function(e,t){n(function(n,e){return function(t){if(-1!==e){if(-1===w(n,e+1))return t({type:"STOP_PLAY"});t({type:"STOP_TRACK"}),setTimeout((function(){t({activeTrackId:w(n,e+1),type:"PLAY_NEXT_TRACK"})}),0)}}}(e,t))},playPrevTrack:function(e,t){n(function(n,e){return function(t){if(-1!==e){var a=P(n,e);if(-1===a)return{type:"NOOP"};t({type:"STOP_TRACK"}),setTimeout((function(){t({activeTrackId:a,type:"PLAY_NEXT_TRACK"})}),0)}}}(e,t))},stop:function(){return n({type:"STOP_PLAY"})},unpause:function(){n({type:"UNPAUSE"})}}}))($e);function et(){var n=Object(j.a)(["\n  width: 100%;\n"]);return et=function(){return n},n}function tt(){var n=Object(j.a)(["\n  margin-left: ",";\n  margin-bottom: ",";\n"]);return tt=function(){return n},n}function at(){var n=Object(j.a)(["\n  background-image: linear-gradient(rgb(81, 76, 68), rgb(8, 7, 7) 85%);\n  background-size: cover;\n  background-repeat: no-repeat;\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  z-index: -1;\n"]);return at=function(){return n},n}var rt=T.b.div(at()),it=T.b.div(tt(),"220px","90px"),ot=T.b.div(et()),ct=function(n){Object(l.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))).state={tokenLoaded:!1,windowWidth:window.innerWidth-220},n.tokenInterval=setInterval((function(){ne.dispatch(E())}),35e5),n.handleResize=function(e){var t=e.target.innerWidth-220;n.setState((function(){return{windowWidth:t}}))},n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){var n=this;window.addEventListener("resize",this.handleResize),ne.dispatch(E()).then((function(){n.setState((function(){return{tokenLoaded:!0}}))}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),clearInterval(this.tokenInterval)}},{key:"render",value:function(){var n=this;return this.state.tokenLoaded?r.a.createElement(p.a,{store:ne},r.a.createElement(d.a,null,r.a.createElement(ot,null,r.a.createElement(rt,null),r.a.createElement(Jn,null),r.a.createElement(it,null,r.a.createElement(f.d,null,r.a.createElement(f.a,{exact:!0,from:"/",to:"/browse/featured"}),r.a.createElement(f.a,{exact:!0,from:"/browse",to:"/browse/featured"}),r.a.createElement(f.b,{path:"/users/:username/playlists/:id",component:Rn}),r.a.createElement(f.b,{path:"/playlists/:id",component:Rn}),r.a.createElement(f.b,{path:"/albums/:id",component:Rn}),r.a.createElement(f.b,{path:"/browse/featured",render:function(e){return r.a.createElement(ge,Object.assign({},e,{windowWidth:n.state.windowWidth}))}}),r.a.createElement(f.b,{path:"/browse",render:function(e){return r.a.createElement(ge,Object.assign({},e,{windowWidth:n.state.windowWidth}))}}),r.a.createElement(f.b,{path:"/view/:id",render:function(e){return r.a.createElement(on,Object.assign({},e,{windowWidth:n.state.windowWidth,config:ee.category}))}}),";")),r.a.createElement(nt,null)))):r.a.createElement(h,null)}}]),t}(a.Component);t(59);window.oncontextmenu=function(){return!1},o.a.render(r.a.createElement(ct,null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.3c0da86f.chunk.js.map